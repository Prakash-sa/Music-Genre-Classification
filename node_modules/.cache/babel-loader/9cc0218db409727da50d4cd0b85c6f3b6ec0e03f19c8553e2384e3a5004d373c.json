{"ast":null,"code":"var _jsxFileName = \"/Users/prakashsaini/Documents/React/react-web-audio/src/AudioAnalyser.js\";\nimport React, { Component } from 'react';\nimport AudioVisualiser from './AudioVisualiser';\nclass AudioAnalyser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      audioData: new Uint8Array(0)\n    };\n    this.tick = this.tick.bind(this);\n  }\n  componentDidMount() {\n    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    this.analyser = this.audioContext.createAnalyser();\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n    this.source = this.audioContext.createMediaStreamSource(this.props.audio);\n    this.source.connect(this.analyser);\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n  tick() {\n    this.analyser.getByteTimeDomainData(this.dataArray);\n    this.setState({\n      audioData: this.dataArray\n    });\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n  componentWillUnmount() {\n    cancelAnimationFrame(this.rafId);\n    this.analyser.disconnect();\n    this.source.disconnect();\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(AudioVisualiser, {\n      audioData: this.state.audioData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 12\n      }\n    });\n  }\n}\nexport default AudioAnalyser;","map":{"version":3,"names":["React","Component","AudioVisualiser","AudioAnalyser","constructor","props","state","audioData","Uint8Array","tick","bind","componentDidMount","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","dataArray","frequencyBinCount","source","createMediaStreamSource","audio","connect","rafId","requestAnimationFrame","getByteTimeDomainData","setState","componentWillUnmount","cancelAnimationFrame","disconnect","render"],"sources":["/Users/prakashsaini/Documents/React/react-web-audio/src/AudioAnalyser.js"],"sourcesContent":["import React, { Component } from 'react';\nimport AudioVisualiser from './AudioVisualiser';\n\nclass AudioAnalyser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { audioData: new Uint8Array(0) };\n    this.tick = this.tick.bind(this);\n  }\n\n  componentDidMount() {\n    this.audioContext = new (window.AudioContext ||\n      window.webkitAudioContext)();\n    this.analyser = this.audioContext.createAnalyser();\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n    this.source = this.audioContext.createMediaStreamSource(this.props.audio);\n    this.source.connect(this.analyser);\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n\n  tick() {\n    this.analyser.getByteTimeDomainData(this.dataArray);\n    this.setState({ audioData: this.dataArray });\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n\n  componentWillUnmount() {\n    cancelAnimationFrame(this.rafId);\n    this.analyser.disconnect();\n    this.source.disconnect();\n  }\n\n  render() {\n    return <AudioVisualiser audioData={this.state.audioData} />;\n  }\n}\n\nexport default AudioAnalyser;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,eAAe,MAAM,mBAAmB;AAE/C,MAAMC,aAAa,SAASF,SAAS,CAAC;EACpCG,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MAAEC,SAAS,EAAE,IAAIC,UAAU,CAAC,CAAC;IAAE,CAAC;IAC7C,IAAI,CAACC,IAAI,GAAG,IAAI,CAACA,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC;EAClC;EAEAC,iBAAiB,GAAG;IAClB,IAAI,CAACC,YAAY,GAAG,KAAKC,MAAM,CAACC,YAAY,IAC1CD,MAAM,CAACE,kBAAkB,GAAG;IAC9B,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACJ,YAAY,CAACK,cAAc,EAAE;IAClD,IAAI,CAACC,SAAS,GAAG,IAAIV,UAAU,CAAC,IAAI,CAACQ,QAAQ,CAACG,iBAAiB,CAAC;IAChE,IAAI,CAACC,MAAM,GAAG,IAAI,CAACR,YAAY,CAACS,uBAAuB,CAAC,IAAI,CAAChB,KAAK,CAACiB,KAAK,CAAC;IACzE,IAAI,CAACF,MAAM,CAACG,OAAO,CAAC,IAAI,CAACP,QAAQ,CAAC;IAClC,IAAI,CAACQ,KAAK,GAAGC,qBAAqB,CAAC,IAAI,CAAChB,IAAI,CAAC;EAC/C;EAEAA,IAAI,GAAG;IACL,IAAI,CAACO,QAAQ,CAACU,qBAAqB,CAAC,IAAI,CAACR,SAAS,CAAC;IACnD,IAAI,CAACS,QAAQ,CAAC;MAAEpB,SAAS,EAAE,IAAI,CAACW;IAAU,CAAC,CAAC;IAC5C,IAAI,CAACM,KAAK,GAAGC,qBAAqB,CAAC,IAAI,CAAChB,IAAI,CAAC;EAC/C;EAEAmB,oBAAoB,GAAG;IACrBC,oBAAoB,CAAC,IAAI,CAACL,KAAK,CAAC;IAChC,IAAI,CAACR,QAAQ,CAACc,UAAU,EAAE;IAC1B,IAAI,CAACV,MAAM,CAACU,UAAU,EAAE;EAC1B;EAEAC,MAAM,GAAG;IACP,oBAAO,oBAAC,eAAe;MAAC,SAAS,EAAE,IAAI,CAACzB,KAAK,CAACC,SAAU;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG;EAC7D;AACF;AAEA,eAAeJ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}